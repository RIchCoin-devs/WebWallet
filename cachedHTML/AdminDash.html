<!-- Wordt dit de officiële wallet of is dit een test?????? Asking for a friend btw. -->


<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <script src='https://www.google.com/recaptcha/api.js'></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
        }
    </style>
</head>

<!-- I AM A HIDDEN BUG :3 -->

<body>
    <nav class="nav-extended">
        <div class="nav-wrapper">
            <img src="res/Logo.png" style="width:60px;height:60px;" />
            <a class="brand-logo hide-on-med-and-down"> Admin Dashboard</a>
            <a href="#" data-activates="mobile-demo" class="button-collapse">
                <i class="material-icons">menu</i>
            </a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/Dashboard">Dashboard</a>
                </li>
                <li>
                    <a href="/Logout">Logout</a>
                </li>
            </ul>
            <ul class="side-nav" id="mobile-demo">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/Dashboard">Dashboard</a>
                </li>
                <li>
                    <a href="/Logout">Logout</a>
                </li>
            </ul>
        </div>
        <div class="nav-content">
            <ul class="tabs tabs-transparent">
                <li class="tab">
                    <a class="active" href="#Activity">Activity</a>
                </li>
                <li class="tab disabled">
                    <a href="#test2">History</a>
                </li>
                <li class="tab disabled">
                    <a href="#test3">Brutes</a>
                </li>
                <li class="tab disabled">
                    <a href="#test4">Finances</a>
                </li>
            </ul>
        </div>
    </nav>


    <div id="Activity" class="col s12">
        <div class="container">
            <div class="row">
                <div class="col s12 m6">
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <p>Current Active Webusers</p>
                            <h2>
                                <span id="currentUsers">0</span> Users</h2>
                        </div>
                    </div>
                </div>
                <div class="col s12 m6">
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <span class="card-title">Send XRI</span>
                            <div class="row">
                                <div class="input-field col s8">
                                    <input placeholder="Address" name="sendaddr" id="sendaddr" type="text" required="" class="validate" minlength="34" maxlength="34">
                                    <label for="sendaddr" data-error="Fill in a address" data-success="Seems legit">Address</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s10">
                                    <input id="sendamount" type="number" name="sendamount" required="" class="validate" min="1">
                                    <label for="sendamount" data-error="Please fill in a valid value" data-success="Seems OK">Amount</label>
                                </div>
                            </div>
                            <button class="btn waves-effect waves-light darken-1" type="submit" name="action">
                                Send
                                <i class="material-icons right">send</i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col s12 m6">
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <span class="card-title">Current Sessions:</span>
                            <table id="session-table" class="responsive-table highlight white-text">
                                <thead>
                                    <tr>
                                        <th>Session-ID</th>
                                        <th>Logged in as</th>
                                        <th>Expires on</th>
                                        <th>Failed Logins</th>
                                        <th>Current Webpage</th>
                                    </tr>
                                </thead>
                                <tbody>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col s12 m6">
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <span class="card-title">Card Title</span>
                            <p>I am a very simple card. I am good at containing small bits of information. I am convenient because
                                I require little markup to use effectively.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="test2" class="col s12">Test 2</div>

    <div id="test3" class="col s12">Test 3</div>

    <div id="test4" class="col s12">Test 4</div>

    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">RIchCoin</h5>
                    <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>
                        <li>
                            <a class="grey-text text-lighten-3" href="#!">Link 1</a>
                        </li>
                        <li>
                            <a class="grey-text text-lighten-3" href="#!">Link 2</a>
                        </li>
                        <li>
                            <a class="grey-text text-lighten-3" href="#!">Link 3</a>
                        </li>
                        <li>
                            <a class="grey-text text-lighten-3" href="#!">Link 4</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2014 Copyright Text
                <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script>
        privateToken = '//PrivateToken//'
        console.log('Getting info from: https://{FQDN}' + privateToken + '.get')

        function refresh() {
            $.getJSON('https://{FQDN}/api/' + privateToken + '.get', function (data) {
                //data is the JSON string

                document.getElementById("currentUsers").innerHTML = data.currentUsers;
                var sessionTable = document.getElementById('session-table').getElementsByTagName('tbody')[0];
                for(var key in data.currentSessions) { 
                    var newRow = sessionTable.insertRow(sessionTable.rows.length);
                    var newCell = newRow.insertCell(0);
                    var newCell = newRow.insertCell(0);
                    var newCell = newRow.insertCell(0);
                    var newCell = newRow.insertCell(0);
                    var newText = document.createTextNode(String(key));
                    newCell.appendChild(newText);
                     
                }


                // Insert a row in the table at the last row
                var newRow = sessionTable.insertRow(sessionTable.rows.length);

                // Insert a cell in the row at index 0
                var newCell = newRow.insertCell(0);

                // Append a text node to the cell
                var newText = document.createTextNode('New row');
                newCell.appendChild(newText);

            });
        }

        refresh()
        setInterval(refresh, 3000);


        (function ($) {
            $(function () {

                $('.button-collapse').sideNav();
                $('.parallax').parallax();
                $('.card-tabs .tabs').tabs({
                    'swipeable': true
                });
                $('.carousel.carousel-slider').carousel({
                    fullWidth: true
                });

                //EXTRAJS//

            }); // end of document ready
        })(jQuery); // end of jQuery name space
    </script>

</body>

</html>
